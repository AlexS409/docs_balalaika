###########################
Модуль ФПГ
###########################

ФОТО

==========================
Технические характеристики
==========================

* Размеры: TBA

* Напряжение питания: TBA

* Потребляемые ток, пиковый: TBA

==========================
Подключение к головному устройству
==========================

Подключение к головному устройству осуществляется по протоколу RS-485 через разъем SH04, расположенному на плате модуля ФПГ.

ФОТО

Распиновка приведена на рисунке ниже.

==========================
Выполняемые команды
==========================

**************************
Команда на получение сырых данных
**************************

Формат запроса
==========================

Длина запроса - **8** байт.

+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| Байт # | Поле        | Тип            | Значение      | Описание                                                       |
+========+=============+================+===============+================================================================+
| 0      | start_byte  | uint8_t        | **0xAA**      | Стартовый байт.                                                |
|        |             |                |               | Всегда равен **0xAA**                                          |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 1      | id          | uint8_t        | **0x40**      | Идентификатор получателя пакета.                               |
|        |             |                |               | **0x40** - получатель - *Датчик ФПГ*                           |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 2      | type        | uint8_t        | **0x01**      | Тип пакета.                                                    |
|        |             |                |               | **0x10** - пакет команды управления                            |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 3      | action      | uint8_t        | **0x00**      | *Действие*, которое необходимо выполнить.                      |
|        |             |                |               | **0x00** - *Чтение*                                            |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 4      | param       | uint8_t        | **0x42**      | Параметр для *действия*.                                       |
|        |             |                |               | **0x42** - Сырые данные                                        |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 5      | data        | uint8_t        | **0x00**      | Данные для *действия*.                                         |
|        |             |                |               | **0x00** - нет данных                                          |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 6      | payload     | uint8_t        | **0x00**      | Дополнительные данные для *действия*.                          |
|        |             |                |               | **0x00** - нет данных                                          |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 7      | checksum    | uint8_t        | **0x2D**      | Котрольная сумма пакета - младший                              |
|        |             |                |               | байт суммы всех байтов пакета                                  |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+

Формат ответа
==========================

Длина ответа - **26** байт.

+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| Байт # | Поле        | Тип            | Значение      | Описание                                                       |
+========+=============+================+===============+================================================================+
| 0      | start_byte  | uint8_t        | 0xAA          | Стартовый байт. Всегда равен 0xAA                              |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 1      | id          | uint8_t        | 0x40          | Идентификатор получателя пакета                                |
|        |             |                |               | **0x01** - получатель - *Головное устройство*                  |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 2      | type        | uint8_t        | 0x01          | Тип пакета - пакет команды "Управление состоянием"             |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 3      | action      | uint8_t        | 0x00          | *Действие*, которое необходимо выполнить. **0x00** - *Чтение*  |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 4      | param       | uint8_t        | 0x42          | Параметр для *действия*. **0x42** - *Сырые данные*             |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 5      | data        | uint8_t        | 0x00          | Данные для *действия*. **0x00** - нет данных.                  |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 6      | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 7      | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 8      | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 9      | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 10     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 11     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 12     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 13     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 14     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 15     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 16     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 17     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 18     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 19     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 20     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 21     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 22     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 23     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 24     | payload     | uint8_t        | 0x00          | Дополнительные данные для *действия*. **0x00** - нет данных.   |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+
| 25     | checksum    | uint8_t        | 0x00          | Котрольная сумма пакета - младший                              |
|        |             |                |               | байт суммы всех байтов пакета                                  |
+--------+-------------+----------------+---------------+----------------------------------------------------------------+

Имплементация значений
==========================

TBA

Примеры
==========================

Все команды приведены в HEX-формате без указания **0x**

Запрос

Ответ

**************************
Команда на получение пульса
**************************

Формат запроса
==========================

Длина запроса - **8** байт.


Формат ответа
==========================

Длина ответа - **26** байт.


Имплементация значений
==========================

TODO сведения по имплементации значений

Примеры
==========================

Примеры запросов и ответов

**************************
Команда на получение сатурации
**************************

Формат запроса
==========================

Длина запроса - **8** байт.


Формат ответа
==========================

Длина ответа - **26** байт.


Имплементация значений
==========================

TBA


Примеры
==========================

Все команды приведены в HEX-формате без указания **0x**

Запрос

Ответ


